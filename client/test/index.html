<!doctype html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Mocha Spec Runner</title>
    <link rel="stylesheet" href="lib/mocha/mocha.css">
</head>
<body>
    <div id="mocha"></div>

    <!-- for "fixtures" on the cheap -->
    <div id="sandbox"></div>
    
    <!--
    	Hack.  See ~like 16 of node_modules/grunt-mocha/phantomjs/bridge.js where it's used.
	Best I can tell, when a test fails in this environment using chai-jquery, the resulting error
	object contains a circular reference, which causes phantom to choke when attempting to
	serialize the object back up through to Grunt.
	-->
    <script src="lib/circular-json.js"></script>
    
    <script src="lib/mocha/mocha.js"></script>
    <script>mocha.setup('bdd')</script>
    
    <!-- include source files here... -->
    <script src="bower_components/jquery/jquery.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/backbone/backbone.js"></script>
    <script src="bower_components/openlayers/lib/OpenLayers.js"></script>
    <script src="scripts/combined-scripts.js"></script>

    <!-- assertion framework + friends -->
    <script src="lib/chai.js"></script>
    <script src="lib/sinon-1.7.3.js"></script>
    <script src="lib/sinon-chai.js"></script>
    <script src="lib/chai-jquery.js"></script>
    <script>var should = chai.should()</script>

    <!-- include spec files here... -->
    <script src="spec/app.js"></script>
    <script src="spec/map.js"></script>

    <script>

    // Specify the script* globals as OK to prevent global leak detected for jquery
    mocha.globals(['script*']).run()

</script>
</body>
</html>
